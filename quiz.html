<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ğŸ¯ A Terra pede socorro: agir agora Ã© salvar o amanhÃ£</title>
<style>
  body {
    font-family: "Poppins", sans-serif;
    text-align: center;
    background: linear-gradient(#b8f1c8, #d8f7ff);
    color: #003b2d;
    padding: 30px;
  }
  h1 {
    color: #006b52;
  }
  .quiz-container {
    background: white;
    padding: 20px;
    border-radius: 20px;
    box-shadow: 0 0 15px rgba(0,0,0,0.2);
    max-width: 600px;
    margin: 0 auto;
  }
  .stats {
    display: flex;
    justify-content: space-around;
    margin-bottom: 10px;
    font-weight: bold;
  }
  .options button {
    display: block;
    width: 100%;
    margin: 5px 0;
    padding: 10px;
    border-radius: 10px;
    border: none;
    background: #00b37e;
    color: white;
    cursor: pointer;
    transition: 0.2s;
  }
  .options button:hover {
    background: #008c65;
  }
  .correct {
    background-color: #5ad66f !important;
  }
  .wrong {
    background-color: #e05555 !important;
  }
  .hidden {
    display: none;
  }
  #timer {
    color: #c21e1e;
  }
</style>
</head>
<body>

<h1>ğŸ¯ Tema: A Terra pede socorro</h1>
<h2>Agir agora Ã© salvar o amanhÃ£ ğŸŒ</h2>

<div class="quiz-container">
  <div class="stats">
    <div>ğŸ’š Vidas: <span id="lives">3</span></div>
    <div>â° Tempo: <span id="timer">45</span>s</div>
    <div>â­ Fase: <span id="level">1</span></div>
  </div>

  <h3 id="question">Carregando pergunta...</h3>
  <div class="options" id="options"></div>

  <button id="nextBtn" class="hidden" onclick="nextQuestion()">PrÃ³xima â¡ï¸</button>
</div>

<script>
const quizData = [
  // Fase 1 - fÃ¡cil
  [
    { question: "1ï¸âƒ£ O que Ã© um desastre natural?",
      options: ["Um evento natural que causa danos", "Um jogo de computador", "Um tipo de planta"],
      answer: 0 },
    { question: "2ï¸âƒ£ Qual desses Ã© um desastre natural?",
      options: ["Terremoto", "Reciclagem", "Economia"],
      answer: 0 },
    { question: "3ï¸âƒ£ O que devemos fazer com o lixo?",
      options: ["Jogar no rio", "Reciclar", "Queimar tudo"],
      answer: 1 }
  ],
  // Fase 2 - mÃ©dia
  [
    { question: "4ï¸âƒ£ O que o aquecimento global provoca?",
      options: ["Mais chuvas equilibradas", "Derretimento das geleiras", "Mais florestas"],
      answer: 1 },
    { question: "5ï¸âƒ£ Qual Ã© uma aÃ§Ã£o sustentÃ¡vel?",
      options: ["Usar sacolas reutilizÃ¡veis", "Deixar a torneira aberta", "Desmatar florestas"],
      answer: 0 },
    { question: "6ï¸âƒ£ Por que devemos economizar energia?",
      options: ["Porque Ã© moda", "Para reduzir impactos ambientais", "Para poluir mais"],
      answer: 1 }
  ],
  // Fase 3 - difÃ­cil
  [
    { question: "7ï¸âƒ£ O que Ã© efeito estufa?",
      options: ["Camada que mantÃ©m o calor da Terra", "Um tipo de planta tropical", "Um fenÃ´meno do espaÃ§o"],
      answer: 0 },
    { question: "8ï¸âƒ£ Qual desses Ã© consequÃªncia do desmatamento?",
      options: ["Aumento da biodiversidade", "Perda de habitat e erosÃ£o", "Mais florestas"],
      answer: 1 },
    { question: "9ï¸âƒ£ Como podemos agir agora pelo amanhÃ£?",
      options: ["Ignorando os problemas", "Consumindo com consciÃªncia", "DesperdiÃ§ando Ã¡gua"],
      answer: 1 }
  ]
];

// Tempo diferente por fase
const faseTempo = [45, 30, 15];

let level = 0;
let current = 0;
let lives = 3;
let timer;
let timeLeft;
let canAnswer = true;

function startQuiz() {
  showQuestion();
  startTimer();
}

function showQuestion() {
  const q = quizData[level][current];
  document.getElementById("question").textContent = q.question;
  const optDiv = document.getElementById("options");
  optDiv.innerHTML = "";
  q.options.forEach((opt, i) => {
    const btn = document.createElement("button");
    btn.textContent = opt;
    btn.onclick = () => checkAnswer(i, btn);
    optDiv.appendChild(btn);
  });
  document.getElementById("nextBtn").classList.add("hidden");
  canAnswer = true;
  resetTimer();
}

function checkAnswer(i, btn) {
  if (!canAnswer) return;
  canAnswer = false;
  const q = quizData[level][current];
  const buttons = document.querySelectorAll("#options button");
  buttons.forEach(b => b.disabled = true);

  if (i === q.answer) {
    btn.classList.add("correct");
  } else {
    btn.classList.add("wrong");
    lives--;
    document.getElementById("lives").textContent = lives;
  }

  document.getElementById("nextBtn").classList.remove("hidden");

  if (lives <= 0) {
    gameOver();
  }
}

function nextQuestion() {
  current++;
  if (current >= quizData[level].length) {
    level++;
    if (level >= quizData.length) {
      endGame();
      return;
    } else {
      alert(`ğŸŒ¿ ParabÃ©ns! VocÃª avanÃ§ou para a fase ${level + 1}!`);
      current = 0;
      document.getElementById("level").textContent = level + 1;
    }
  }
  showQuestion();
}

function startTimer() {
  timeLeft = faseTempo[level];
  document.getElementById("timer").textContent = timeLeft;

  timer = setInterval(() => {
    timeLeft--;
    document.getElementById("timer").textContent = timeLeft;
    if (timeLeft <= 0) {
      clearInterval(timer);
      lives--;
      document.getElementById("lives").textContent = lives;
      if (lives <= 0) {
        gameOver();
      } else {
        nextQuestion();
      }
    }
  }, 1000);
}

function resetTimer() {
  clearInterval(timer);
  timeLeft = faseTempo[level];
  document.getElementById("timer").textContent = timeLeft;
  startTimer();
}

function gameOver() {
  clearInterval(timer);
  document.querySelector(".quiz-container").innerHTML = `
    <h2>ğŸ’” Fim de jogo!</h2>
    <p>Suas vidas acabaram...</p>
    <p>Mas ainda hÃ¡ tempo de salvar o planeta ğŸŒ</p>
    <button onclick="location.reload()">Tentar novamente</button>
  `;
}

function endGame() {
  clearInterval(timer);
  document.querySelector(".quiz-container").innerHTML = `
    <h2>ğŸ† ParabÃ©ns, GuardiÃ£o da Terra!</h2>
    <p>VocÃª completou todas as fases do quiz!</p>
    <p>Continue cuidando do nosso planeta ğŸ’š</p>
    <button onclick="location.reload()">Jogar de novo</button>
  `;
}

startQuiz();
</script>
</body>
</html>
